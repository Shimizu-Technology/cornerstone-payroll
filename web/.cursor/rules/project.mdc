---
description: Cornerstone Payroll Web - Project Context
alwaysApply: true
---

# Cornerstone Payroll Web

## Overview
React 19 + TypeScript + Vite frontend for Cornerstone Payroll.

## Tech Stack
- React 19 with hooks
- TypeScript strict mode
- Vite 7 for bundling
- Tailwind CSS v4 (with @theme variables)
- React Router v7
- Lucide React for icons

## Guiding Principles
1. **NO EMOJIS** - Use lucide-react icons only
2. **8px grid** - Spacing uses p-2, p-4, p-6, p-8 (multiples of 8px)
3. **Mobile-first** - Start with mobile, add breakpoints for larger screens
4. **Type everything** - No `any`, explicit return types on functions
5. **Reusable components** - Build UI primitives in `components/ui/`

## Directory Structure
```
src/
├── components/
│   ├── ui/           # Reusable primitives (Button, Input, Table)
│   ├── layout/       # Layout components (Sidebar, Header)
│   └── employees/    # Feature-specific components
├── pages/            # Route pages
├── services/         # API client and typed endpoints
├── lib/              # Utilities (cn, formatters)
└── types/            # TypeScript interfaces
```

## API Integration Pattern
```typescript
// All API calls go through the typed client
import { employeesApi } from '@/services/api';

const { data, meta } = await employeesApi.list({ page: 1, search: 'john' });
```

## Form Pattern
```typescript
// Controlled forms with validation
const [form, setForm] = useState<EmployeeFormData>(initialData);
const [errors, setErrors] = useState<Record<string, string>>({});

const handleSubmit = async (e: FormEvent) => {
  e.preventDefault();
  try {
    await employeesApi.create(form);
    navigate('/employees');
  } catch (err) {
    if (err instanceof ApiError) {
      setErrors(formatApiErrors(err.details));
    }
  }
};
```

## SSN Handling
- Never store full SSN in frontend state
- Display as `***-**-1234` (last 4 only)
- Only collect full SSN on create/update forms
